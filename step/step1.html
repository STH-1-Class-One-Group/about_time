<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>Step 1 â€” CallStack (ë™ê¸°)</title>
    <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&family=IBM+Plex+Mono:wght@400;600&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg: #0d0d1a; --surface: #13132b; --border: #2a2a4a;
            --text: #e8e8ff; --muted: #6666aa; --pika: #f1c40f;
        }
        *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }
        body { font-family: 'IBM Plex Mono', monospace; background: var(--bg); color: var(--text); padding: 40px 20px; }

        h1 { font-family: 'Press Start 2P', monospace; font-size: 0.9rem; color: var(--pika); text-align: center; margin-bottom: 8px; line-height: 1.8; }
        .subtitle { text-align: center; color: var(--muted); font-size: 0.7rem; margin-bottom: 32px; }

        .panel { background: var(--surface); border: 1px solid var(--border); border-radius: 12px; padding: 24px; max-width: 400px; margin: 0 auto 24px; }
        .panel h2 { font-family: 'Press Start 2P', monospace; font-size: 0.6rem; color: var(--pika); text-align: center; margin-bottom: 16px; line-height: 1.8; }

        .card { border: 1px solid var(--border); border-radius: 8px; padding: 12px 16px; margin-bottom: 10px; background: rgba(255,255,255,0.03); animation: popIn 0.2s ease; }
        .card p { font-size: 0.75rem; margin: 2px 0; }
        .card strong { color: var(--pika); }
        @keyframes popIn { from { opacity:0; transform:translateY(6px); } to { opacity:1; transform:translateY(0); } }

        .timer { font-size: 0.7rem; color: var(--pika); text-align: center; margin-bottom: 12px; }

        .btn-row { display: flex; justify-content: center; margin-bottom: 32px; }
        button { font-family: 'Press Start 2P', monospace; font-size: 0.6rem; padding: 14px 28px; background: var(--pika); color: #000; border: none; border-radius: 4px; cursor: pointer; box-shadow: 0 4px 0 #b8960a; }
        button:active { transform: translateY(2px); box-shadow: 0 2px 0 #b8960a; }

        .console-tip { text-align: center; font-size: 0.65rem; color: var(--muted); margin-bottom: 24px; }
        .console-tip code { color: #3498db; }

        .explain { background: rgba(241,196,15,0.06); border: 1px solid rgba(241,196,15,0.2); border-radius: 8px; padding: 16px; max-width: 400px; margin: 0 auto; font-size: 0.68rem; line-height: 1.9; color: var(--muted); }
        .explain strong { color: var(--text); }
    </style>
</head>
<body>

    <h1>Step 1</h1>
    <h1 style="margin-top:4px;">CallStack â€” ë™ê¸°</h1>
    <p class="subtitle">í”¼ì¹´ì¸„ ê³„ì—´ | ì™„ì „ ë™ê¸° ì²˜ë¦¬</p>
    <p class="console-tip">ğŸ’¡ <code>F12 â†’ Console</code> ì„ ì—´ì–´ë‘ì„¸ìš”</p>

    <div class="btn-row">
        <button id="start-btn">ğŸ START</button>
    </div>

    <div class="panel">
        <h2>â‘  Pikachu Family ğŸŸ¡<br>CallStack (ë™ê¸°)</h2>
        <div id="sync-timer" class="timer">Ready...</div>
        <div id="sync-container"></div>
    </div>

    <div class="explain">
        <strong>ë¬´ìŠ¨ ì¼ì´ ì¼ì–´ë‚˜ë‚˜?</strong><br><br>
        for...of ë£¨í”„ê°€ ì½œìŠ¤íƒì—ì„œ ì‹¤í–‰ë©ë‹ˆë‹¤.<br>
        í”¼ì¸„ â†’ í”¼ì¹´ì¸„ â†’ ë¼ì´ì¸„ ìˆœì„œë¡œ<br>
        <strong>ë¸”ë¡œí‚¹</strong>í•˜ë©° í•˜ë‚˜ì”© ì²˜ë¦¬í•©ë‹ˆë‹¤.<br><br>
        ë‹¤ìŒ ì‘ì—…ì€ ì´ ë£¨í”„ê°€ <strong>ì™„ì „íˆ ëë‚œ í›„</strong>ì—ì•¼<br>
        ì½œìŠ¤íƒì— ì˜¬ë¼ì˜¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
    </div>

    <script>
        const raceStart = { time: 0 };

        function log(section, message) {
            const elapsed = ((performance.now() - raceStart.time) / 1000).toFixed(3);
            console.log(`[${elapsed}s] %c${section}%c ${message}`,
                'font-weight:bold; color:#f1c40f;', 'font-weight:normal;');
        }

        function renderCard(containerId, name, label, color) {
            const elapsed = ((performance.now() - raceStart.time) / 1000).toFixed(3);
            const card = document.createElement('div');
            card.className = 'card';
            card.innerHTML = `
                <p><strong>${name}</strong></p>
                <p style="color:${color}; font-size:0.6rem;">${label}</p>
                <p style="color:var(--muted); font-size:0.55rem;">+${elapsed}s</p>
            `;
            document.getElementById(containerId).appendChild(card);
        }

        // â‘  í”¼ì¹´ì¸„ â€” ì™„ì „ ë™ê¸°
        function runPikaSection() {
            document.getElementById('sync-container').innerHTML = '';
            document.getElementById('sync-timer').innerText = 'Running...';

            log('â‘  PIKA', 'â–¶ ì‹œì‘ â€” CallStack ë¸”ë¡œí‚¹');

            const pikaFamily = ['í”¼ì¸„', 'í”¼ì¹´ì¸„', 'ë¼ì´ì¸„'];

            for (const name of pikaFamily) {
                // ì´ ë£¨í”„ ì „ì²´ê°€ ì½œìŠ¤íƒì—ì„œ ë™ê¸°ì ìœ¼ë¡œ ì‹¤í–‰ë¨
                // â†’ ë£¨í”„ê°€ ëë‚˜ê¸° ì „ê¹Œì§€ ë‹¤ë¥¸ ì–´ë–¤ ê²ƒë„ ì‹¤í–‰ ë¶ˆê°€
                log('â‘  PIKA', `  ì½œìŠ¤íƒ ì‹¤í–‰ â†’ ${name}`);
                renderCard('sync-container', name, 'CallStack (ë™ê¸°)', 'var(--pika)');
            }

            log('â‘  PIKA', 'â–  ì™„ë£Œ â€” ë£¨í”„ ì¢…ë£Œ, ì½œìŠ¤íƒì—ì„œ ë‚´ë ¤ì˜´');
            document.getElementById('sync-timer').innerText = 'âœ… ì™„ë£Œ';
        }

        document.getElementById('start-btn').addEventListener('click', () => {
            raceStart.time = performance.now();
            console.clear();
            console.log('%c=== Step 1: CallStack (ë™ê¸°) ===', 'font-size:1rem; font-weight:bold; color:#f1c40f;');
            console.log('%cí”¼ì¹´ì¸„ ê³„ì—´ì€ for...of ë£¨í”„ê°€ ëë‚  ë•Œê¹Œì§€ ëª¨ë“  ê²ƒì„ ë¸”ë¡œí‚¹í•©ë‹ˆë‹¤.', 'color:#888;');
            console.log('');

            runPikaSection();
        });
    </script>
</body>
</html>